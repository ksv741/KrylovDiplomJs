!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);var r=()=>{let e={startPrice:1e4,diametr:{first:1,second:1},rings:{first:1,second:1},bottom:1e3,distance:0};const t=document.getElementById("accordion"),n=t.querySelectorAll("select"),r=t.querySelectorAll("input");n.forEach(t=>{t.addEventListener("change",r=>{let s=t.value.slice(0,-6);for(let r in n)if(t==n[r])switch(r){case"0":return e.diametr.first=1.4==s?1:1.2,void o();case"1":return e.rings.first=1==s?1:2==s?1.3:1.5,void o();case"2":return e.diametr.second=1.4==s?1:1.2,void o();case"3":return e.rings.second=1==s?1:2==s?1.3:1.5,void o()}return e})}),r.forEach(t=>{t.addEventListener("change",n=>{for(let n in r)if(t==r[n])switch(n){case"0":return t.checked?(e.startPrice=1e4,0!=e.bottom&&(e.bottom=1e3)):(e.startPrice=15e3,0!=e.bottom&&(e.bottom=2e3)),o(),e;case"1":return t.checked?1e4==e.startPrice?e.bottom=1e3:e.bottom=2e3:e.bottom=0,o(),e;case"3":return e.distance=t.value,o(),e}return e})});const o=()=>{e.sum=+e.startPrice*+e.diametr.first*+e.diametr.second*+e.rings.first*e.rings.second+ +e.bottom,document.getElementById("calc-result").value=e.sum};return n.forEach(t=>{let r=t.value.slice(0,-6);for(let o in n)if(t==n[o])switch(o){case"0":return void(e.diametr.first=1.4==r?1:1.2);case"1":return void(e.rings.first=1==r?1:2==r?1.3:1.5);case"2":return void(e.diametr.second=1.4==r?1:1.2);case"3":return void(e.rings.second=1==r?1:2==r?1.3:1.5)}return e}),r.forEach(t=>{for(let n in r)if(t==r[n])switch(n){case"0":return void(t.checked?(e.startPrice=1e4,0!=e.bottom&&(e.bottom=1e3)):(e.startPrice=15e3,0!=e.bottom&&(e.bottom=2e3)));case"1":return void(t.checked?1e4==e.startPrice?e.bottom=1e3:e.bottom=2e3:e.bottom=0);case"3":return void(e.distance=t.value)}}),o(),e};var o=e=>{const t=document.querySelectorAll("form"),n="https://media1.tenor.com/images/ea380a3a8e119935fdc9d52a77bc037b/tenor.gif?itemid=12694673",o=document.createElement("div");o.style.cssText="padding-top: 10%; position: fixed;top: 0;left: 0;width: 100%;height: 100%;font-size: 43px; color: white; background: rgba(0,0,0,.5); z-index: 999;";let s=!1;t.forEach(e=>{document.body.addEventListener("click",e=>{e.target;s&&(o.remove(),s=!1)}),e.addEventListener("submit",t=>{t.preventDefault(),e.appendChild(o),o.innerHTML='<strong>Подождите ...</strong><br><br><br><img src="https://media1.tenor.com/images/a03b546ff3a38fd187d008b2f843e3d0/tenor.gif">',s=!0;const i=new FormData(e),a=e.querySelectorAll("input"),l=[...a].filter(e=>"phone"==e.name.slice(5));if(18!==l[0].value.length)return alert("Неверно заполнен номер"),void(l[0].value="");let d={};i.forEach((e,t)=>{d[t]=e}),e.closest(".popup-consultation")&&(d.user_quest=document.querySelector(".director-form>input").value),e.closest(".popup-discount")&&(d.price=r()),a.forEach(t=>{t.value="",e.closest(".popup-consultation")&&(document.querySelector(".director-form>input").value="")}),c(d).then(e=>{if(200!==e.status)return o.innerHTML=`<strong>Ужас ...</strong><br><br><br><img src="${n}">`,void(s=!0);o.innerHTML='<strong>Все прекрасно !!!</strong><br><br><br><img src="https://media1.tenor.com/images/2b71d287ad48566ba5ba19bad0d55ff2/tenor.gif?itemid=6211650">',s=!0}).catch(e=>{console.error(e),o.innerHTML=`<strong>Ужас ...</strong><br><br><br><img src="${n}">`,s=!0})})});const c=e=>fetch("./server.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})};var s=()=>{const e=document.getElementById("accordion");let t=[];const n=e.querySelectorAll(".panel-collapse "),r=document.querySelectorAll(".onoffswitch-checkbox"),o=document.querySelectorAll("#collapseTwo .title-text"),s=document.querySelectorAll("#collapseTwo .select-box"),c=()=>{r[0].checked?(o[1].style.display="none",s[2].style.display="none",s[3].style.display="none"):(o[1].style.display="block",s[2].style.display="inline-block",s[3].style.display="inline-block")},i=()=>{t=[],n.forEach((e,n)=>{e.classList.add("tab-active"),e.classList.remove("tab-nonactive"),e.style.height="100%",t.push(e.scrollHeight),e.style.height="0px",e.classList.add("tab-nonactive"),e.classList.remove("tab-active"),0==n&&(e.classList.remove("tab-nonactive"),e.classList.add("tab-active"),e.style.height=`${t[n]}px`)})},a=(e,n)=>{e.style.display,setTimeout(()=>{e.style.height=`${t[n]}px`},0),e.classList.remove("tab-nonactive"),e.classList.add("tab-active")},l=e=>{e.style.height="0px",setTimeout(()=>{e.classList.add("tab-nonactive"),e.classList.remove("tab-active")},800)};e.addEventListener("click",e=>{let t=e.target;if(!t.closest(".panel-heading")){if(t.closest(".construct-btn")){if(t.closest(".construct-btn").classList.contains("call-btn"))return;e.preventDefault();let r=t.closest(".panel-collapse");for(let e in n)r==n[e]&&(l(n[e]),a(n[+e+1],+e+1))}return}e.preventDefault();let r=t.closest(".panel-heading").nextElementSibling;n.forEach((e,t)=>{r==e?e.classList.contains("tab-nonactive")&&a(e,t):l(e)})}),r[0].addEventListener("change",e=>{c(),i()}),setTimeout(()=>{c(),i()},100)};var c=()=>{const e=document.querySelector(".questions .panel-group"),t=[];[...e.querySelectorAll(".panel-collapse")].forEach(e=>{t.push(e.offsetHeight),e.style.maxHeight="0px"}),e.addEventListener("click",n=>{n.preventDefault();let r=n.target;if(!r.closest(".panel-group>.panel>.panel-heading"))return;let o=r.closest(".panel-heading").nextElementSibling;e.querySelectorAll(".panel-collapse").forEach((e,n)=>{e.style.transition="0.2s",o==e?(e.classList.remove("ksv_accord"),e.style.maxHeight=t[n]+"px"):(e.classList.add("ksv_accord"),e.style.maxHeight="0px")})})};var i=()=>{const e=document.querySelectorAll(".call-btn"),t=document.querySelectorAll(".popup"),n=document.querySelector(".sentence"),r=document.querySelector(".check-btn"),o=document.querySelector(".consultation-btn"),s=e=>{t.forEach(t=>{t.classList.contains(e)&&(t.style.display="block")}),c(e)},c=e=>{document.querySelector(`.${e}`).addEventListener("click",t=>{let n=t.target;n.closest(".popup-dialog")&&!n.closest(".popup-close")||(document.querySelector(`.${e}`).style.display="none")})};e.forEach(e=>{e.addEventListener("click",t=>{t.preventDefault(),e.classList.contains("construct-btn")?s("popup-discount"):s("popup-call")})}),n.addEventListener("click",e=>{e.preventDefault(),e.target.classList.contains("discount-btn")&&s("popup-discount")}),r.addEventListener("click",e=>{e.preventDefault(),s("popup-check")}),o.addEventListener("click",e=>{e.preventDefault(),s("popup-consultation")})};var a=()=>{const e=document.querySelector(".add-sentence-btn"),t=[...document.querySelector(".sentence .row").children].filter(e=>"div"==e.tagName.toLowerCase());e.addEventListener("click",()=>{t.forEach(e=>{(e.classList.contains("hidden")||e.classList.contains("visible-sm-block"))&&(e.classList=["col-xs-12 col-sm-6 col-md-4"])}),e.style.display="none"})};var l=()=>{const e=document.querySelectorAll("input"),t=/[^а-яё]/i;e.forEach(e=>{"user"===e.name.slice(0,4)&&("phone"==e.name.slice(5)?(maskPhone(`#${e.getAttribute("id")}`),e.addEventListener("change",()=>{if(18!==e.value.length)return alert("Неверно заполнен номер телефона"),void(e.value="")})):"name"==e.name.slice(5)&&(e.addEventListener("input",n=>{e.value=e.value.replace(t,"")}),e.addEventListener("change",()=>{t.test(e.value)&&(e.value="")})))})};r(),i(),a(),c(),s(),o(),l()}]);